<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Profile Concept A — The Shipping Timeline</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600&family=DM+Serif+Display&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
  /* ─── Design Tokens ─── */
  :root {
    --surface-primary: #f9f8f6;
    --surface-secondary: #f2f0ed;
    --surface-elevated: #ffffff;
    --surface-inverse: #1c1917;
    --ink: #1c1917;
    --ink-secondary: #57534e;
    --ink-tertiary: #78736e;
    --ink-inverse: #fafaf9;
    --accent: #6366f1;
    --accent-hover: #4f46e5;
    --accent-subtle: #eef2ff;
    --accent-muted: #a5b4fc;
    --shipped: #16a34a;
    --shipped-subtle: #f0fdf4;
    --in-progress: #d97706;
    --in-progress-subtle: #fffbeb;
    --shadow-sm: 0 1px 3px rgba(28,25,23,0.05), 0 1px 2px rgba(28,25,23,0.03);
    --shadow-md: 0 4px 12px rgba(28,25,23,0.06);
    --shadow-lg: 0 8px 24px rgba(28,25,23,0.08);
    --font-serif: "DM Serif Display", serif;
    --font-sans: "DM Sans", sans-serif;
    --font-mono: "IBM Plex Mono", monospace;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: var(--font-sans);
    background: var(--surface-primary);
    color: var(--ink);
    -webkit-font-smoothing: antialiased;
  }

  /* ─── Navigation ─── */
  .nav {
    height: 64px;
    background: var(--surface-elevated);
    box-shadow: var(--shadow-sm);
    display: flex;
    align-items: center;
    padding: 0 48px;
    position: sticky;
    top: 0;
    z-index: 100;
  }
  .nav-logo {
    font-family: var(--font-serif);
    font-size: 20px;
    color: var(--ink);
  }

  /* ─── Container ─── */
  .container {
    max-width: 960px;
    margin: 0 auto;
    padding: 0 24px;
  }

  /* ─── PROVE: Identity Strip ─── */
  .identity {
    padding: 48px 0 0;
    display: flex;
    align-items: flex-start;
    gap: 24px;
  }
  .identity-avatar {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--accent-subtle), var(--accent-muted));
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: var(--font-serif);
    font-size: 32px;
    color: var(--accent);
    flex-shrink: 0;
  }
  .identity-info {
    flex: 1;
  }
  .identity-name {
    font-family: var(--font-serif);
    font-size: 36px;
    line-height: 1.1;
    letter-spacing: -0.01em;
  }
  .identity-handle {
    font-size: 14px;
    color: var(--ink-tertiary);
    margin-top: 2px;
  }
  .identity-headline {
    font-size: 16px;
    color: var(--ink-secondary);
    margin-top: 8px;
    line-height: 1.5;
  }
  .identity-meta {
    display: flex;
    align-items: center;
    gap: 20px;
    margin-top: 12px;
    flex-wrap: wrap;
  }
  .availability-badge {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    font-size: 13px;
    font-weight: 500;
    color: var(--shipped);
    background: var(--shipped-subtle);
    padding: 4px 12px;
    border-radius: 999px;
  }
  .availability-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: var(--shipped);
  }
  .meta-item {
    font-size: 13px;
    color: var(--ink-tertiary);
    font-family: var(--font-mono);
  }
  .builder-score {
    display: inline-flex;
    align-items: center;
    gap: 6px;
  }
  .score-value {
    font-family: var(--font-mono);
    font-weight: 500;
    font-size: 14px;
    color: var(--accent);
  }
  .score-label {
    font-size: 12px;
    color: var(--ink-tertiary);
  }

  /* ─── PROVE: Shipping Timeline ─── */
  .timeline-section {
    margin-top: 48px;
  }
  .overline {
    font-size: 11px;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.06em;
    color: var(--ink-tertiary);
    margin-bottom: 16px;
  }

  .timeline-container {
    background: var(--surface-elevated);
    border-radius: 16px;
    padding: 32px;
    box-shadow: var(--shadow-sm);
    position: relative;
  }

  /* Burn waveform */
  .burn-wave {
    position: relative;
    height: 80px;
    margin-bottom: 8px;
  }
  .burn-wave canvas {
    width: 100%;
    height: 100%;
    display: block;
  }

  /* Month labels */
  .month-labels {
    display: flex;
    justify-content: space-between;
    padding: 0 2px;
    margin-bottom: 24px;
  }
  .month-label {
    font-size: 10px;
    font-family: var(--font-mono);
    color: var(--ink-tertiary);
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  /* Project markers on timeline */
  .project-markers {
    position: relative;
    height: 48px;
    margin-bottom: 0;
  }
  .project-marker {
    position: absolute;
    top: 0;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
  }
  .marker-line {
    width: 1px;
    height: 16px;
    background: var(--ink-tertiary);
    opacity: 0.3;
    margin-bottom: 4px;
  }
  .marker-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    margin-bottom: 4px;
    margin-left: -3.5px;
  }
  .marker-dot.shipped { background: var(--shipped); }
  .marker-dot.in-progress { background: var(--in-progress); }
  .marker-label {
    font-size: 10px;
    font-family: var(--font-mono);
    color: var(--ink-secondary);
    white-space: nowrap;
    transform: rotate(-25deg);
    transform-origin: top left;
    margin-top: 2px;
  }

  .timeline-stats {
    display: flex;
    gap: 32px;
    margin-top: 20px;
    padding-top: 20px;
    border-top: 1px solid var(--surface-secondary);
  }
  .timeline-stat {
    display: flex;
    flex-direction: column;
  }
  .stat-value {
    font-family: var(--font-mono);
    font-weight: 500;
    font-size: 20px;
    color: var(--ink);
  }
  .stat-label {
    font-size: 11px;
    color: var(--ink-tertiary);
    margin-top: 2px;
    text-transform: uppercase;
    letter-spacing: 0.04em;
  }

  /* ─── PROVE: Projects ─── */
  .projects-section {
    margin-top: 48px;
  }
  .projects-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
  }
  .project-card {
    background: var(--surface-elevated);
    border-radius: 12px;
    padding: 24px;
    box-shadow: var(--shadow-sm);
    transition: transform 200ms ease, box-shadow 200ms ease;
    cursor: pointer;
    position: relative;
    overflow: hidden;
  }
  .project-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
  }
  .project-card.featured {
    grid-column: 1 / -1;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 24px;
  }
  .project-status {
    display: inline-flex;
    align-items: center;
    gap: 5px;
    font-size: 11px;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.04em;
    margin-bottom: 10px;
  }
  .project-status.shipped { color: var(--shipped); }
  .project-status.building { color: var(--in-progress); }
  .status-dot {
    width: 5px;
    height: 5px;
    border-radius: 50%;
  }
  .status-dot.shipped { background: var(--shipped); }
  .status-dot.building { background: var(--in-progress); }
  .project-title {
    font-family: var(--font-serif);
    font-size: 20px;
    line-height: 1.2;
    margin-bottom: 8px;
  }
  .featured .project-title {
    font-size: 24px;
  }
  .project-desc {
    font-size: 14px;
    color: var(--ink-secondary);
    line-height: 1.6;
    margin-bottom: 16px;
  }
  .project-tech {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    margin-bottom: 16px;
  }
  .tech-tag {
    font-size: 11px;
    font-family: var(--font-mono);
    color: var(--ink-tertiary);
    background: var(--surface-secondary);
    padding: 3px 8px;
    border-radius: 4px;
  }

  /* Mini burn sparkline on each project card */
  .project-burn {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-top: auto;
  }
  .burn-sparkline {
    flex: 1;
    height: 20px;
  }
  .burn-sparkline canvas {
    width: 100%;
    height: 100%;
  }
  .burn-stat {
    font-size: 11px;
    font-family: var(--font-mono);
    color: var(--ink-tertiary);
    white-space: nowrap;
  }

  /* ─── VOUCH: Tribe & Collaborators ─── */
  .vouch-section {
    margin-top: 56px;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 32px;
  }
  .vouch-block {
  }
  .collaborator-list {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }
  .collaborator {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 10px 14px;
    border-radius: 10px;
    cursor: pointer;
    transition: background 150ms ease;
  }
  .collaborator:hover {
    background: var(--surface-secondary);
  }
  .collab-avatar {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background: var(--surface-secondary);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 13px;
    font-weight: 500;
    color: var(--ink-secondary);
    flex-shrink: 0;
  }
  .collab-info {
    flex: 1;
  }
  .collab-name {
    font-size: 14px;
    font-weight: 500;
  }
  .collab-role {
    font-size: 12px;
    color: var(--ink-tertiary);
  }
  .collab-projects {
    font-size: 11px;
    font-family: var(--font-mono);
    color: var(--accent);
  }

  /* Tribe card */
  .tribe-card {
    background: var(--surface-elevated);
    border-radius: 12px;
    padding: 20px;
    box-shadow: var(--shadow-sm);
    cursor: pointer;
    transition: transform 150ms ease, box-shadow 150ms ease;
  }
  .tribe-card:hover {
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
  }
  .tribe-name {
    font-family: var(--font-serif);
    font-size: 18px;
    margin-bottom: 4px;
  }
  .tribe-desc {
    font-size: 13px;
    color: var(--ink-secondary);
    line-height: 1.5;
    margin-bottom: 12px;
  }
  .tribe-members {
    display: flex;
    align-items: center;
  }
  .tribe-member-avatar {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    background: var(--surface-secondary);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 10px;
    font-weight: 500;
    color: var(--ink-secondary);
    margin-right: -8px;
    outline: 2px solid var(--surface-elevated);
    position: relative;
  }
  .tribe-member-count {
    font-size: 12px;
    color: var(--ink-tertiary);
    margin-left: 16px;
  }

  /* ─── STATE: Skills & Info ─── */
  .state-section {
    margin-top: 56px;
    padding-top: 48px;
    border-top: 1px solid var(--surface-secondary);
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 32px;
    padding-bottom: 80px;
  }
  .state-block {}
  .skill-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    margin-top: 4px;
  }
  .skill-tag {
    font-size: 12px;
    color: var(--ink-secondary);
    background: var(--surface-secondary);
    padding: 5px 12px;
    border-radius: 6px;
  }
  .info-list {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }
  .info-item {
    display: flex;
    flex-direction: column;
  }
  .info-label {
    font-size: 10px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--ink-tertiary);
    margin-bottom: 2px;
  }
  .info-value {
    font-size: 14px;
    color: var(--ink-secondary);
  }
  .info-value a {
    color: var(--accent);
    text-decoration: none;
  }
  .info-value a:hover {
    text-decoration: underline;
  }
  .workflow-bar-container {
    margin-top: 12px;
  }
  .workflow-bar {
    height: 4px;
    border-radius: 2px;
    background: var(--surface-secondary);
    overflow: hidden;
    display: flex;
  }
  .workflow-bar .human {
    background: var(--ink-tertiary);
  }
  .workflow-bar .ai {
    background: var(--accent);
  }
  .workflow-label {
    font-size: 11px;
    color: var(--ink-tertiary);
    margin-top: 4px;
    font-family: var(--font-mono);
  }

  /* ─── Section label ─── */
  .section-label {
    font-size: 11px;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.06em;
    color: var(--ink-tertiary);
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    gap: 8px;
  }
  .section-label::after {
    content: '';
    flex: 1;
    height: 1px;
    background: var(--surface-secondary);
  }

  /* ─── Concept Label ─── */
  .concept-banner {
    background: var(--surface-inverse);
    color: var(--ink-inverse);
    text-align: center;
    padding: 12px;
    font-family: var(--font-mono);
    font-size: 12px;
    letter-spacing: 0.05em;
  }
</style>
</head>
<body>

<div class="concept-banner">
  CONCEPT A — THE SHIPPING TIMELINE &middot; Burn is the spine, projects hang off it
</div>

<nav class="nav">
  <div class="nav-logo">Find Your Tribe</div>
</nav>

<main class="container">

  <!-- ═══ PROVE: Identity ═══ -->
  <section class="identity">
    <div class="identity-avatar">M</div>
    <div class="identity-info">
      <h1 class="identity-name">Maya Chen</h1>
      <div class="identity-handle">@mayachen</div>
      <p class="identity-headline">Building AI tools for small teams. Previously infrastructure at Stripe.</p>
      <div class="identity-meta">
        <span class="availability-badge">
          <span class="availability-dot"></span>
          Open to tribe
        </span>
        <span class="builder-score">
          <span class="score-value">72</span>
          <span class="score-label">builder score</span>
        </span>
        <span class="meta-item">PST &middot; UTC-8</span>
      </div>
    </div>
  </section>

  <!-- ═══ PROVE: Shipping Timeline ═══ -->
  <section class="timeline-section">
    <div class="section-label">Shipping activity</div>
    <div class="timeline-container">
      <div class="burn-wave">
        <canvas id="burnWave"></canvas>
      </div>
      <div class="month-labels">
        <span class="month-label">Mar</span>
        <span class="month-label">Apr</span>
        <span class="month-label">May</span>
        <span class="month-label">Jun</span>
        <span class="month-label">Jul</span>
        <span class="month-label">Aug</span>
        <span class="month-label">Sep</span>
        <span class="month-label">Oct</span>
        <span class="month-label">Nov</span>
        <span class="month-label">Dec</span>
        <span class="month-label">Jan</span>
        <span class="month-label">Feb</span>
      </div>
      <div class="project-markers" id="projectMarkers">
        <!-- Filled by JS -->
      </div>
      <div class="timeline-stats">
        <div class="timeline-stat">
          <span class="stat-value">247</span>
          <span class="stat-label">Days active</span>
        </div>
        <div class="timeline-stat">
          <span class="stat-value">1.2M</span>
          <span class="stat-label">Tokens burned</span>
        </div>
        <div class="timeline-stat">
          <span class="stat-value">89%</span>
          <span class="stat-label">Weekly streak</span>
        </div>
        <div class="timeline-stat">
          <span class="stat-value">4/5</span>
          <span class="stat-label">Projects shipped</span>
        </div>
      </div>
    </div>
  </section>

  <!-- ═══ PROVE: Projects ═══ -->
  <section class="projects-section">
    <div class="section-label">Shipped work</div>
    <div class="projects-grid">

      <!-- Featured / Currently Building -->
      <div class="project-card featured">
        <div>
          <div class="project-status building">
            <span class="status-dot building"></span>
            Currently building
          </div>
          <h3 class="project-title">Tribe Finder</h3>
          <p class="project-desc">AI-powered matching engine that connects builders based on complementary skills, shipping history, and work style compatibility. Uses embedding similarity on builder profiles.</p>
          <div class="project-tech">
            <span class="tech-tag">Python</span>
            <span class="tech-tag">FastAPI</span>
            <span class="tech-tag">pgvector</span>
            <span class="tech-tag">React</span>
          </div>
        </div>
        <div style="display:flex; flex-direction:column; justify-content:space-between;">
          <div class="project-burn">
            <div class="burn-sparkline"><canvas id="spark0"></canvas></div>
            <span class="burn-stat">38K tokens<br>this week</span>
          </div>
          <div style="margin-top: 20px;">
            <div style="font-size:12px; color:var(--ink-tertiary); margin-bottom:8px;">Building with</div>
            <div style="display:flex; gap:8px;">
              <div class="collab-avatar" style="width:28px;height:28px;font-size:10px;">JO</div>
              <div class="collab-avatar" style="width:28px;height:28px;font-size:10px;">PS</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Shipped Projects -->
      <div class="project-card">
        <div class="project-status shipped">
          <span class="status-dot shipped"></span>
          Shipped
        </div>
        <h3 class="project-title">CodeReview Bot</h3>
        <p class="project-desc">Automated PR reviewer that catches common patterns and suggests improvements using LLM analysis.</p>
        <div class="project-tech">
          <span class="tech-tag">TypeScript</span>
          <span class="tech-tag">GitHub API</span>
          <span class="tech-tag">Claude</span>
        </div>
        <div class="project-burn">
          <div class="burn-sparkline"><canvas id="spark1"></canvas></div>
          <span class="burn-stat">420K total</span>
        </div>
      </div>

      <div class="project-card">
        <div class="project-status shipped">
          <span class="status-dot shipped"></span>
          Shipped
        </div>
        <h3 class="project-title">Schema Forge</h3>
        <p class="project-desc">Visual database schema designer that generates migration files for SQLAlchemy and Prisma.</p>
        <div class="project-tech">
          <span class="tech-tag">React</span>
          <span class="tech-tag">D3.js</span>
          <span class="tech-tag">PostgreSQL</span>
        </div>
        <div class="project-burn">
          <div class="burn-sparkline"><canvas id="spark2"></canvas></div>
          <span class="burn-stat">310K total</span>
        </div>
      </div>

      <div class="project-card">
        <div class="project-status shipped">
          <span class="status-dot shipped"></span>
          Shipped
        </div>
        <h3 class="project-title">Latency Dashboard</h3>
        <p class="project-desc">Real-time API performance monitoring with p50/p95/p99 breakdowns and anomaly detection.</p>
        <div class="project-tech">
          <span class="tech-tag">Go</span>
          <span class="tech-tag">ClickHouse</span>
          <span class="tech-tag">Next.js</span>
        </div>
        <div class="project-burn">
          <div class="burn-sparkline"><canvas id="spark3"></canvas></div>
          <span class="burn-stat">185K total</span>
        </div>
      </div>

      <div class="project-card">
        <div class="project-status shipped">
          <span class="status-dot shipped"></span>
          Shipped
        </div>
        <h3 class="project-title">Env Sync</h3>
        <p class="project-desc">CLI tool for syncing .env files across team members with encrypted storage and conflict resolution.</p>
        <div class="project-tech">
          <span class="tech-tag">Rust</span>
          <span class="tech-tag">SQLite</span>
        </div>
        <div class="project-burn">
          <div class="burn-sparkline"><canvas id="spark4"></canvas></div>
          <span class="burn-stat">95K total</span>
        </div>
      </div>

    </div>
  </section>

  <!-- ═══ VOUCH: Collaborators & Tribes ═══ -->
  <section class="vouch-section">
    <div>
      <div class="section-label">Built with</div>
      <div class="collaborator-list">
        <div class="collaborator">
          <div class="collab-avatar">JO</div>
          <div class="collab-info">
            <div class="collab-name">James Okafor</div>
            <div class="collab-role">Product Designer</div>
          </div>
          <div class="collab-projects">3 projects</div>
        </div>
        <div class="collaborator">
          <div class="collab-avatar">PS</div>
          <div class="collab-info">
            <div class="collab-name">Priya Sharma</div>
            <div class="collab-role">Backend Engineer</div>
          </div>
          <div class="collab-projects">2 projects</div>
        </div>
        <div class="collaborator">
          <div class="collab-avatar">DM</div>
          <div class="collab-info">
            <div class="collab-name">David Morales</div>
            <div class="collab-role">PM &middot; Growth</div>
          </div>
          <div class="collab-projects">1 project</div>
        </div>
        <div class="collaborator">
          <div class="collab-avatar">LK</div>
          <div class="collab-info">
            <div class="collab-name">Lena Kim</div>
            <div class="collab-role">ML Engineer</div>
          </div>
          <div class="collab-projects">1 project</div>
        </div>
      </div>
    </div>
    <div>
      <div class="section-label">Tribes</div>
      <div style="display:flex;flex-direction:column;gap:16px;">
        <div class="tribe-card">
          <h4 class="tribe-name">Buildspace Alumni</h4>
          <p class="tribe-desc">Builders from Buildspace S4 shipping AI-native products together.</p>
          <div class="tribe-members">
            <div class="tribe-member-avatar">MC</div>
            <div class="tribe-member-avatar">JO</div>
            <div class="tribe-member-avatar">PS</div>
            <div class="tribe-member-avatar">+</div>
            <span class="tribe-member-count">12 builders</span>
          </div>
        </div>
        <div class="tribe-card">
          <h4 class="tribe-name">Infra Nerds</h4>
          <p class="tribe-desc">Obsessed with developer tooling, databases, and making things fast.</p>
          <div class="tribe-members">
            <div class="tribe-member-avatar">MC</div>
            <div class="tribe-member-avatar">DM</div>
            <div class="tribe-member-avatar">LK</div>
            <span class="tribe-member-count">8 builders</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ═══ STATE: Skills, How They Build, Links ═══ -->
  <section class="state-section">
    <div class="state-block">
      <div class="overline">Skills</div>
      <div class="skill-tags">
        <span class="skill-tag">Python</span>
        <span class="skill-tag">TypeScript</span>
        <span class="skill-tag">React</span>
        <span class="skill-tag">PostgreSQL</span>
        <span class="skill-tag">FastAPI</span>
        <span class="skill-tag">System Design</span>
        <span class="skill-tag">LLM APIs</span>
        <span class="skill-tag">DevOps</span>
      </div>
    </div>
    <div class="state-block">
      <div class="overline">How they build</div>
      <div style="font-size:13px; color:var(--ink-secondary); margin-bottom:4px;">Pair builder</div>
      <div style="display:flex; gap:6px; margin-bottom:12px;">
        <span class="tech-tag">Claude Code</span>
        <span class="tech-tag">Cursor</span>
      </div>
      <div class="workflow-bar-container">
        <div class="workflow-bar">
          <div class="human" style="width:55%"></div>
          <div class="ai" style="width:45%"></div>
        </div>
        <div class="workflow-label">55% human &middot; 45% AI</div>
      </div>
    </div>
    <div class="state-block">
      <div class="overline">Links</div>
      <div class="info-list">
        <div class="info-item">
          <span class="info-label">GitHub</span>
          <span class="info-value"><a href="#">@mayachen</a></span>
        </div>
        <div class="info-item">
          <span class="info-label">Twitter</span>
          <span class="info-value"><a href="#">@maya_ships</a></span>
        </div>
        <div class="info-item">
          <span class="info-label">Website</span>
          <span class="info-value"><a href="#">mayachen.dev</a></span>
        </div>
        <div class="info-item">
          <span class="info-label">Joined</span>
          <span class="info-value">March 2025</span>
        </div>
      </div>
    </div>
  </section>

</main>

<script>
// ─── Generate realistic burn data ───
function generateBurnData(weeks, baseIntensity, spikes) {
  const data = [];
  for (let w = 0; w < weeks; w++) {
    for (let d = 0; d < 7; d++) {
      let val = Math.random() * baseIntensity;
      // Apply spikes
      for (const spike of spikes) {
        if (w >= spike.start && w <= spike.end) {
          const mid = (spike.start + spike.end) / 2;
          const dist = Math.abs(w - mid) / ((spike.end - spike.start) / 2);
          val += spike.intensity * (1 - dist * 0.7) * (0.6 + Math.random() * 0.4);
        }
      }
      // Weekends slightly less
      if (d >= 5) val *= 0.4;
      data.push(Math.max(0, val));
    }
  }
  return data;
}

// Project periods (week ranges and labels)
const projects = [
  { name: 'Env Sync', start: 4, end: 10, shipped: true },
  { name: 'Latency Dash', start: 12, end: 22, shipped: true },
  { name: 'Schema Forge', start: 20, end: 30, shipped: true },
  { name: 'CodeReview Bot', start: 28, end: 40, shipped: true },
  { name: 'Tribe Finder', start: 38, end: 51, shipped: false },
];

const burnData = generateBurnData(52, 2, [
  { start: 4, end: 10, intensity: 5 },
  { start: 12, end: 22, intensity: 6 },
  { start: 20, end: 30, intensity: 7 },
  { start: 28, end: 40, intensity: 8 },
  { start: 38, end: 51, intensity: 9 },
]);

// ─── Draw main burn waveform ───
function drawBurnWave() {
  const canvas = document.getElementById('burnWave');
  const ctx = canvas.getContext('2d');
  const dpr = window.devicePixelRatio || 1;
  const rect = canvas.getBoundingClientRect();
  canvas.width = rect.width * dpr;
  canvas.height = rect.height * dpr;
  ctx.scale(dpr, dpr);

  const w = rect.width;
  const h = rect.height;

  // Aggregate daily data to weekly averages
  const weeklyData = [];
  for (let i = 0; i < 52; i++) {
    const weekSlice = burnData.slice(i * 7, (i + 1) * 7);
    const avg = weekSlice.reduce((a, b) => a + b, 0) / 7;
    weeklyData.push(avg);
  }

  const maxVal = Math.max(...weeklyData);
  const points = weeklyData.map((v, i) => ({
    x: (i / 51) * w,
    y: h - (v / maxVal) * (h - 8) - 4
  }));

  // Area fill with gradient
  const gradient = ctx.createLinearGradient(0, 0, 0, h);
  gradient.addColorStop(0, 'rgba(99, 102, 241, 0.15)');
  gradient.addColorStop(1, 'rgba(99, 102, 241, 0.01)');

  ctx.beginPath();
  ctx.moveTo(0, h);
  for (let i = 0; i < points.length; i++) {
    if (i === 0) {
      ctx.lineTo(points[i].x, points[i].y);
    } else {
      const cpx = (points[i - 1].x + points[i].x) / 2;
      ctx.bezierCurveTo(cpx, points[i - 1].y, cpx, points[i].y, points[i].x, points[i].y);
    }
  }
  ctx.lineTo(w, h);
  ctx.closePath();
  ctx.fillStyle = gradient;
  ctx.fill();

  // Line
  ctx.beginPath();
  for (let i = 0; i < points.length; i++) {
    if (i === 0) {
      ctx.moveTo(points[i].x, points[i].y);
    } else {
      const cpx = (points[i - 1].x + points[i].x) / 2;
      ctx.bezierCurveTo(cpx, points[i - 1].y, cpx, points[i].y, points[i].x, points[i].y);
    }
  }
  ctx.strokeStyle = '#6366f1';
  ctx.lineWidth = 2;
  ctx.stroke();

  // Highlight project spans
  for (const proj of projects) {
    const x1 = (proj.start / 51) * w;
    const x2 = (proj.end / 51) * w;
    const color = proj.shipped ? 'rgba(22, 163, 74, 0.06)' : 'rgba(217, 119, 6, 0.06)';
    ctx.fillStyle = color;
    ctx.fillRect(x1, 0, x2 - x1, h);
  }
}

// ─── Draw project markers ───
function drawProjectMarkers() {
  const container = document.getElementById('projectMarkers');
  const containerWidth = container.getBoundingClientRect().width;

  for (const proj of projects) {
    const midWeek = (proj.start + proj.end) / 2;
    const leftPct = (midWeek / 51) * 100;

    const marker = document.createElement('div');
    marker.className = 'project-marker';
    marker.style.left = leftPct + '%';

    const dotClass = proj.shipped ? 'shipped' : 'in-progress';
    marker.innerHTML = `
      <div class="marker-line"></div>
      <div class="marker-dot ${dotClass}"></div>
      <div class="marker-label">${proj.name}</div>
    `;
    container.appendChild(marker);
  }
}

// ─── Draw sparklines ───
function drawSparkline(canvasId, weekStart, weekEnd, color) {
  const canvas = document.getElementById(canvasId);
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const dpr = window.devicePixelRatio || 1;
  const rect = canvas.getBoundingClientRect();
  canvas.width = rect.width * dpr;
  canvas.height = rect.height * dpr;
  ctx.scale(dpr, dpr);

  const w = rect.width;
  const h = rect.height;

  const weeklyData = [];
  for (let i = weekStart; i <= weekEnd; i++) {
    const weekSlice = burnData.slice(i * 7, (i + 1) * 7);
    const avg = weekSlice.reduce((a, b) => a + b, 0) / 7;
    weeklyData.push(avg);
  }

  const maxVal = Math.max(...weeklyData, 1);
  const points = weeklyData.map((v, i) => ({
    x: (i / (weeklyData.length - 1)) * w,
    y: h - (v / maxVal) * (h - 4) - 2
  }));

  // Area
  const gradient = ctx.createLinearGradient(0, 0, 0, h);
  gradient.addColorStop(0, color + '20');
  gradient.addColorStop(1, color + '05');

  ctx.beginPath();
  ctx.moveTo(0, h);
  for (let i = 0; i < points.length; i++) {
    if (i === 0) ctx.lineTo(points[i].x, points[i].y);
    else {
      const cpx = (points[i - 1].x + points[i].x) / 2;
      ctx.bezierCurveTo(cpx, points[i - 1].y, cpx, points[i].y, points[i].x, points[i].y);
    }
  }
  ctx.lineTo(w, h);
  ctx.closePath();
  ctx.fillStyle = gradient;
  ctx.fill();

  ctx.beginPath();
  for (let i = 0; i < points.length; i++) {
    if (i === 0) ctx.moveTo(points[i].x, points[i].y);
    else {
      const cpx = (points[i - 1].x + points[i].x) / 2;
      ctx.bezierCurveTo(cpx, points[i - 1].y, cpx, points[i].y, points[i].x, points[i].y);
    }
  }
  ctx.strokeStyle = color;
  ctx.lineWidth = 1.5;
  ctx.stroke();
}

// ─── Init ───
window.addEventListener('load', () => {
  drawBurnWave();
  drawProjectMarkers();
  drawSparkline('spark0', 38, 51, '#d97706');
  drawSparkline('spark1', 28, 40, '#16a34a');
  drawSparkline('spark2', 20, 30, '#16a34a');
  drawSparkline('spark3', 12, 22, '#16a34a');
  drawSparkline('spark4', 4, 10, '#16a34a');
});

window.addEventListener('resize', () => {
  drawBurnWave();
  document.getElementById('projectMarkers').innerHTML = '';
  drawProjectMarkers();
  drawSparkline('spark0', 38, 51, '#d97706');
  drawSparkline('spark1', 28, 40, '#16a34a');
  drawSparkline('spark2', 20, 30, '#16a34a');
  drawSparkline('spark3', 12, 22, '#16a34a');
  drawSparkline('spark4', 4, 10, '#16a34a');
});
</script>

</body>
</html>
